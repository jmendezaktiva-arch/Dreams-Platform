<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academia | Dreams</title>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Montserrat:wght@400;700;900&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reset.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/theme/white.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-blue': '#00529B',
                        'brand-orange': '#F68D2E',
                    }
                }
            }
        }
    </script>
</head>
<body>
    <div id="app">
        <header class="navbar" style="padding: 10px 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center;">
            <div class="logo-container">
                <img src="assets/images/logo.png" alt="Mi Empresa Crece" style="max-height: 50px; width: auto; display: block;">
            </div>
            <a href="dashboard.html" style="text-decoration: none; color: #666; font-size: 0.8rem; font-weight: 600;">‚Üê VOLVER AL PANEL</a>
        </header>

       <main class="container" style="max-width: 1000px; margin: 40px auto; padding: 0 20px;">
            
            <div id="view-lobby">
                <header class="section-header" style="margin-bottom: 50px; text-align: center;">
                    <h2 style="font-weight: 600; letter-spacing: -1.5px; color: var(--primary-color); font-size: 2.2rem;">Tu Ruta de Crecimiento</h2>
                    <p style="color: #555; font-size: 1.05rem; font-weight: 300; max-width: 600px; margin: 15px auto 0;">Selecciona un m√≥dulo para continuar con tu transformaci√≥n empresarial basada en los principios de resiliencia y prop√≥sito trascendente.</p>
                </header>

                <div id="course-lobby" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                    <article class="card">
                        <div class="card-content">
                            <span style="color: var(--secondary-color); font-weight: 600; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 1px;">Programa Autogestivo</span>
                            <h3>Consolida 360¬∫ - Online</h3>
                            <p>Domina los conceptos a tu propio ritmo con las l√°minas interactivas y material de apoyo.</p>
                            <button class="btn-reveal-purpose" id="btn-show-purpose-online">Revelar Hoja de Ruta Online</button>
                        </div>
                        <div class="btn-group">
                            <button class="btn-primary" id="btn-open-online" style="font-size: 0.8rem;">Iniciar Programa Online</button>
                        </div>
                    </article>

                    <article class="card">
                        <div class="card-content">
                            <span style="color: var(--primary-color); font-weight: 600; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 1px;">Sesi√≥n en Vivo</span>
                            <h3>Consolida 360¬∫ - Mentor√≠a</h3>
                            <p>Acceso directo al cuaderno de trabajo sincronizado para tu sesi√≥n de consultor√≠a v√≠a Zoom.</p>
                            <button class="btn-reveal-purpose" id="btn-show-purpose-live">Revelar Prop√≥sito de Mentor√≠a</button>
                        </div>
                        <div class="btn-group">
                            <button class="btn-primary" id="btn-open-live" style="background: #fff; color: var(--secondary-color); border: 2px solid var(--secondary-color); font-size: 0.8rem;">Entrar al Cuaderno Live</button>
                        </div>
                    </article>

                    <article class="card" style="opacity: 0.6; border: 1px dashed #ccc;">
                        <div class="card-content">
                            <span style="color: #999; font-weight: 600; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 1px;">Programa</span>
                            <h3 style="color: #999;">Optimizando mi tiempo</h3>
                            <p>Pr√≥ximamente: Dominio de la gesti√≥n de la agenda con un m√©todo √∫nico y comprobado para hacer tu d√≠a m√°s productivo</p>
                        </div>
                        <div class="btn-group">
                            <button class="btn-primary" style="background: #e2e8f0; color: #94a3b8; cursor: not-allowed; box-shadow: none;" disabled>Pr√≥ximamente</button>
                        </div>
                    </article>
                </div>
            </div>


            <div id="view-session-selector" style="display: none; max-width: 1000px; margin: 40px auto; padding: 0 20px;">
            <header class="section-header" style="margin-bottom: 50px; text-align: center;">
                <h2 id="session-selector-title" style="font-weight: 600; letter-spacing: -1.5px; color: var(--primary-color); font-size: 2.2rem;">Estructura de Acompa√±amiento</h2>
                <p style="color: #555; font-size: 1.05rem; font-weight: 300; max-width: 600px; margin: 15px auto 0;">Selecciona la sesi√≥n correspondiente para acceder a los materiales interactivos y herramientas estrat√©gicas.</p>
            </header>

            <div id="session-list" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;">
                </div>

            <div style="text-align: center; margin-top: 40px;">
                <button id="btn-sessions-back-to-lobby" style="background: none; border: none; color: #666; cursor: pointer; font-weight: 600; text-decoration: underline; font-size: 0.9rem;">‚Üê VOLVER AL CAT√ÅLOGO</button>
            </div>
        </div>

            <div id="view-presentation" style="display: none; padding-top: 5px;">
                <div style="display: flex; gap: 20px; align-items: flex-start; max-width: 1200px; margin: 0 auto; height: 82vh; min-height: 600px;">
                    
                    <div class="presentation-wrapper" style="flex: 1; height: 100%; background: #fff; border-radius: 24px; box-shadow: 0 20px 50px rgba(0,0,0,0.08); overflow: hidden; position: relative; border: 1px solid #eee;">
                        <div class="reveal" style="width: 100%; height: 100%;">
                            <div class="slides"></div>
                        </div>
                    </div>

                    <nav class="bubble-dashboard" style="display: flex; flex-direction: column; gap: 15px; background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(15px); padding: 25px 14px; border-radius: 50px; box-shadow: 0 15px 45px rgba(0, 90, 156, 0.12); border: 1px solid rgba(255, 255, 255, 0.5); position: sticky; top: 10px;">
                        <button id="btn-pres-back-to-lobby" title="Volver al Cat√°logo" style="background: var(--primary-color); border: none; width: 50px; height: 50px; border-radius: 50%; color: white; font-size: 1.8rem; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 8px 25px rgba(0, 90, 156, 0.2); transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); line-height: 1;">‚Üê</button>
                        
                        <div style="height: 1px; width: 35px; background: #ddd; margin: 5px auto;"></div>
                        
                        <button id="btn-toggle-video" class="btn-bubble-toggle" title="Video Tutorial" style="background: white; border: none; width: 58px; height: 58px; border-radius: 50%; font-size: 1.8rem; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 5px 20px rgba(0,0,0,0.1); transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);">üì∫</button>
                        
                        <button id="btn-toggle-podcast" class="btn-bubble-toggle" title="Material de Apoyo" style="background: white; border: none; width: 58px; height: 58px; border-radius: 50%; font-size: 1.8rem; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 5px 20px rgba(0,0,0,0.1); transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);">üéß</button>
                        
                        <button id="btn-toggle-workbook" class="btn-bubble-toggle" title="Cuaderno de Trabajo" style="background: white; border: none; width: 58px; height: 58px; border-radius: 50%; font-size: 1.8rem; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 5px 20px rgba(0,0,0,0.1); transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);">üìù</button>
                    </nav>
                </div>
            </div>

            <div id="video-tutorial" class="podcast-hidden" style="position: fixed; top: 100px; right: 20px; width: 320px; background: white; border-radius: 16px; box-shadow: 0 15px 35px rgba(0,0,0,0.2); z-index: 2500; overflow: hidden; border: 1px solid #eee;">
                <div style="background: var(--primary-color); padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; color: white;">
                    <span style="font-size: 0.7rem; font-weight: 600;">VIDEO TUTORIAL</span>
                    <button onclick="document.getElementById('video-tutorial').classList.add('podcast-hidden')" style="background:none; border:none; color:white; cursor:pointer;">&times;</button>
                </div>
                <div style="padding: 10px;">
                    <video id="tutorial-video" width="100%" height="auto" controls 
                           controlsList="nodownload" 
                           oncontextmenu="return false;" 
                           disablePictureInPicture
                           style="border-radius: 8px; display: block; background: #000;">
                        <source id="video-source" src="" type="video/mp4">
                        Tu navegador no soporta la reproducci√≥n de video.
                    </video>
                </div>
            </div>

            <div id="view-workbook" style="display: none; height: 90vh;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <button id="btn-back-to-lobby" style="background: none; border: none; color: var(--primary-color); cursor: pointer; font-weight: 600; font-size: 0.9rem;">‚Üê VOLVER AL CURSO</button>
                    <span id="status-message" style="font-size: 0.75rem; color: #999;"></span>
                </div>
                
                <iframe id="workbook-iframe" src="" style="width: 100%; height: 100%; border: none; border-radius: 16px; shadow: 0 10px 30px rgba(0,0,0,0.1);"></iframe>
            </div>
        </main>

        <div id="podcast-player" class="podcast-hidden" style="position: fixed; bottom: 20px; right: 20px; background: #fff; padding: 15px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); z-index: 1000; width: 300px; border: 1px solid #eee;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                <span style="font-size: 0.65rem; font-weight: 600; color: var(--primary-color); text-transform: uppercase;">Material de Apoyo</span>
                <button id="btn-close-podcast" style="background: none; border: none; font-size: 1.2rem; cursor: pointer; color: #999;">&times;</button>
            </div>
            <select id="podcast-selector" style="width: 100%; margin-bottom: 12px; padding: 6px; border-radius: 6px; border: 1px solid #eee; font-family: 'Montserrat'; font-size: 0.7rem; color: #666;"></select>
            <audio id="audio-element" controls 
                   controlsList="nodownload" 
                   oncontextmenu="return false;"
                   style="width: 100%; height: 35px;">
                <source id="podcast-source" src="" type="audio/mpeg">
            </audio>
        </div>

        <div id="purpose-overlay-online" class="purpose-overlay">
            <div class="purpose-bubble">
                <button class="close-bubble" id="btn-close-purpose-online">&times;</button>
                <h3 style="color: var(--primary-color); margin-top: 0;">Tu Ruta Autogestiva</h3>
                <p>Establecer las bases te√≥ricas y el autodiagn√≥stico inicial para blindar tu operaci√≥n con autonom√≠a.</p>
            </div>
        </div>
        <div id="purpose-overlay-live" class="purpose-overlay">
            <div class="purpose-bubble">
                <button class="close-bubble" id="btn-close-purpose-live">&times;</button>
                <h3 style="color: var(--primary-color); margin-top: 0;">Mentor√≠a Estrat√©gica</h3>
                <p>Acelerar resultados mediante el feedback experto y la resoluci√≥n de dudas cr√≠ticas en tiempo real.</p>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.js"></script>

    <script src="src/shared/env-config.js"></script>
    
    <script type="module" src="src/app.js"></script>

    <script type="module" src="src/academia/academia.js"></script>
</body>
</html>